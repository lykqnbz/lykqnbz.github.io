I"û<h2 id="å‰è¨€">å‰è¨€</h2>

<blockquote>
  <blockquote>
    <p>å¼€å‘çš„æ—¶å€™ï¼Œæœ‰å¾ˆå¤šå¸¸è§çš„å®ä¾‹æ“ä½œï¼Œä¸€ç›´é‡å¤å†™çš„è¯ï¼Œå°±æ˜¯ä»£ç æ²‰ä½™ã€‚æ‰€ä»¥æŠŠä¸€äº›å¸¸è§çš„æ“ä½œå°è£…æˆå‡½æ•°ï¼Œæ–¹ä¾¿è°ƒç”¨ã€‚ä¸€ç›´å¾…ç»­â€¦â€¦</p>
  </blockquote>
</blockquote>

<h2 id="å­—ç¬¦ä¸²æ“ä½œ">å­—ç¬¦ä¸²æ“ä½œ</h2>

<h6 id="2-1-å»é™¤å­—ç¬¦ä¸²ç©ºæ ¼">2-1 å»é™¤å­—ç¬¦ä¸²ç©ºæ ¼</h6>
<h6 id="2-2-å­—æ¯å¤§å°å†™åˆ‡æ¢">2-2 å­—æ¯å¤§å°å†™åˆ‡æ¢</h6>
<h6 id="2-3-å­—ç¬¦ä¸²å¾ªç¯å¤åˆ¶">2-3 å­—ç¬¦ä¸²å¾ªç¯å¤åˆ¶</h6>
<h6 id="2-4-å­—ç¬¦æ›¿æ¢">2-4 å­—ç¬¦æ›¿æ¢</h6>
<h6 id="2-5-æ­£å“²æ£€æµ‹å­—ç¬¦ä¸²">2-5 æ­£å“²æ£€æµ‹å­—ç¬¦ä¸²</h6>
<h6 id="2-6-æ£€æµ‹å¯†ç å¼ºåº¦">2-6 æ£€æµ‹å¯†ç å¼ºåº¦</h6>
<h6 id="2-7-æŸ¥æ‰¾å­—ç¬¦ä¸²ä¸­æŸå­—ç¬¦å‡ºç°çš„æ¬¡æ•°">2-7 æŸ¥æ‰¾å­—ç¬¦ä¸²ä¸­æŸå­—ç¬¦å‡ºç°çš„æ¬¡æ•°</h6>
<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="kd">var</span> <span class="nx">aldR</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1">// 2-1 å»é™¤å­—ç¬¦ä¸²ç©ºæ ¼</span>
    <span class="c1">//type 1-æ‰€æœ‰ç©ºæ ¼  2-å‰åç©ºæ ¼  3-å‰ç©ºæ ¼ 4-åç©ºæ ¼</span>
    <span class="c1">//aldR.trim('  DDSS5asd',1)</span>
    <span class="c1">//resultï¼šDDSS5asd</span>
    <span class="c1">//è¯¥æ–¹æ³•å¯ä»¥å…¼å®¹IE8</span>
    <span class="na">trim</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">str</span><span class="p">,</span> <span class="nx">type</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">switch</span> <span class="p">(</span><span class="nx">type</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">case</span> <span class="mi">1</span><span class="p">:</span>
                <span class="k">return</span> <span class="nx">str</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/</span><span class="se">\s</span><span class="sr">+/g</span><span class="p">,</span> <span class="dl">""</span><span class="p">);</span>
            <span class="k">case</span> <span class="mi">2</span><span class="p">:</span>
                <span class="k">return</span> <span class="nx">str</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/</span><span class="se">(</span><span class="sr">^</span><span class="se">\s</span><span class="sr">*</span><span class="se">)</span><span class="sr">|</span><span class="se">(\s</span><span class="sr">*$</span><span class="se">)</span><span class="sr">/g</span><span class="p">,</span> <span class="dl">""</span><span class="p">);</span>
            <span class="k">case</span> <span class="mi">3</span><span class="p">:</span>
                <span class="k">return</span> <span class="nx">str</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/</span><span class="se">(</span><span class="sr">^</span><span class="se">\s</span><span class="sr">*</span><span class="se">)</span><span class="sr">/g</span><span class="p">,</span> <span class="dl">""</span><span class="p">);</span>
            <span class="k">case</span> <span class="mi">4</span><span class="p">:</span>
                <span class="k">return</span> <span class="nx">str</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/</span><span class="se">(\s</span><span class="sr">*$</span><span class="se">)</span><span class="sr">/g</span><span class="p">,</span> <span class="dl">""</span><span class="p">);</span>
            <span class="nl">default</span><span class="p">:</span>
                <span class="k">return</span> <span class="nx">str</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">},</span>

    <span class="c1">// 2-2 å­—æ¯å¤§å°å†™åˆ‡æ¢</span>
    <span class="c1">//type 1-é¦–å­—æ¯å¤§å†™  2-é¦–é¡µæ¯å°å†™  3-å¤§å°å†™è½¬æ¢ 4-å…¨éƒ¨å¤§å†™ 5-å…¨éƒ¨å°å†™</span>
    <span class="c1">//aldR.changeCase('ccdde',1)</span>
    <span class="c1">//resultï¼šCcdde</span>
    <span class="na">changeCase</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">str</span><span class="p">,</span> <span class="nx">type</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">function</span> <span class="nx">ToggleCase</span><span class="p">(</span><span class="nx">str</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">itemText</span> <span class="o">=</span> <span class="dl">""</span>
            <span class="nx">str</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="dl">""</span><span class="p">).</span><span class="nx">forEach</span><span class="p">(</span>
                <span class="kd">function</span> <span class="p">(</span><span class="nx">item</span><span class="p">)</span> <span class="p">{</span>
                    <span class="k">if</span> <span class="p">(</span><span class="sr">/^</span><span class="se">([</span><span class="sr">a-z</span><span class="se">]</span><span class="sr">+</span><span class="se">)</span><span class="sr">/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">item</span><span class="p">))</span> <span class="p">{</span>
                        <span class="nx">itemText</span> <span class="o">+=</span> <span class="nx">item</span><span class="p">.</span><span class="nx">toUpperCase</span><span class="p">();</span>
                    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="sr">/^</span><span class="se">([</span><span class="sr">A-Z</span><span class="se">]</span><span class="sr">+</span><span class="se">)</span><span class="sr">/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">item</span><span class="p">))</span> <span class="p">{</span>
                        <span class="nx">itemText</span> <span class="o">+=</span> <span class="nx">item</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">();</span>
                    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                        <span class="nx">itemText</span> <span class="o">+=</span> <span class="nx">item</span><span class="p">;</span>
                    <span class="p">}</span>
                <span class="p">});</span>
            <span class="k">return</span> <span class="nx">itemText</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">switch</span> <span class="p">(</span><span class="nx">type</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">case</span> <span class="mi">1</span><span class="p">:</span>
                <span class="k">return</span> <span class="nx">str</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/</span><span class="se">\b\w</span><span class="sr">+</span><span class="se">\b</span><span class="sr">/g</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">word</span><span class="p">)</span> <span class="p">{</span>
                    <span class="k">return</span> <span class="nx">word</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">).</span><span class="nx">toUpperCase</span><span class="p">()</span> <span class="o">+</span> <span class="nx">word</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span><span class="nx">toLowerCase</span><span class="p">();</span>
                <span class="p">});</span>
            <span class="k">case</span> <span class="mi">2</span><span class="p">:</span>
                <span class="k">return</span> <span class="nx">str</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/</span><span class="se">\b\w</span><span class="sr">+</span><span class="se">\b</span><span class="sr">/g</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">word</span><span class="p">)</span> <span class="p">{</span>
                    <span class="k">return</span> <span class="nx">word</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">).</span><span class="nx">toLowerCase</span><span class="p">()</span> <span class="o">+</span> <span class="nx">word</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span><span class="nx">toUpperCase</span><span class="p">();</span>
                <span class="p">});</span>
            <span class="k">case</span> <span class="mi">3</span><span class="p">:</span>
                <span class="k">return</span> <span class="nx">ToggleCase</span><span class="p">(</span><span class="nx">str</span><span class="p">);</span>
            <span class="k">case</span> <span class="mi">4</span><span class="p">:</span>
                <span class="k">return</span> <span class="nx">str</span><span class="p">.</span><span class="nx">toUpperCase</span><span class="p">();</span>
            <span class="k">case</span> <span class="mi">5</span><span class="p">:</span>
                <span class="k">return</span> <span class="nx">str</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">();</span>
            <span class="nl">default</span><span class="p">:</span>
                <span class="k">return</span> <span class="nx">str</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">},</span>

    <span class="c1">// 2-3 å­—ç¬¦ä¸²å¾ªç¯å¤åˆ¶</span>
    <span class="c1">//repeatStr(str-&gt;å­—ç¬¦ä¸², count-&gt;æ¬¡æ•°)</span>
    <span class="c1">//aldR.repeatStr('123',3)</span>
    <span class="c1">//"resultï¼š123123123"</span>
    <span class="na">repeatStr</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">str</span><span class="p">,</span> <span class="nx">count</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">text</span> <span class="o">=</span> <span class="dl">''</span><span class="p">;</span>
        <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">count</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">text</span> <span class="o">+=</span> <span class="nx">str</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="nx">text</span><span class="p">;</span>
    <span class="p">},</span>

    <span class="c1">// 2-4 å­—ç¬¦æ›¿æ¢</span>
    <span class="c1">//replaceStr(å­—ç¬¦ä¸²,å­—ç¬¦æ ¼å¼, æ›¿æ¢æ–¹å¼,æ›¿æ¢çš„å­—ç¬¦ï¼ˆé»˜è®¤*ï¼‰)</span>
    <span class="c1">//å­—ç¬¦æ ¼å¼è‡ªå·±ç†è§£:D ä¸å¥½å­—è¿°</span>
    <span class="c1">//aldR.replaceStr('18819322663',[3,5,3],0)</span>
    <span class="c1">//resultï¼š188*****663</span>
    <span class="c1">//aldR.replaceStr('asdasdasdaa',[3,5,3],1)</span>
    <span class="c1">//resultï¼š***asdas***</span>
    <span class="c1">//aldR.replaceStr('1asd88465asdwqe3',[5],0)</span>
    <span class="c1">//resultï¼š*****8465asdwqe3</span>
    <span class="c1">//aldR.replaceStr('1asd88465asdwqe3',[5],1,'+')</span>
    <span class="c1">//resultï¼š"1asd88465as+++++"</span>
    <span class="na">replaceStr</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">str</span><span class="p">,</span> <span class="nx">regArr</span><span class="p">,</span> <span class="nx">type</span><span class="p">,</span> <span class="nx">ARepText</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">regtext</span> <span class="o">=</span> <span class="dl">''</span><span class="p">,</span>
            <span class="nx">Reg</span> <span class="o">=</span> <span class="kc">null</span><span class="p">,</span>
            <span class="nx">replaceText</span> <span class="o">=</span> <span class="nx">ARepText</span> <span class="o">||</span> <span class="dl">'</span><span class="s1">*</span><span class="dl">'</span><span class="p">;</span>
        <span class="c1">//repeatStræ˜¯åœ¨ä¸Šé¢å®šä¹‰è¿‡çš„ 2-3å­—ç¬¦ä¸²å¾ªç¯å¤åˆ¶</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">regArr</span><span class="p">.</span><span class="nx">length</span> <span class="o">===</span> <span class="mi">3</span> <span class="o">&amp;&amp;</span> <span class="nx">type</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">regtext</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">(</span><span class="se">\\</span><span class="s1">w{</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">regArr</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">})</span><span class="se">\\</span><span class="s1">w{</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">regArr</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">}(</span><span class="se">\\</span><span class="s1">w{</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">regArr</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">})</span><span class="dl">'</span>
            <span class="nx">Reg</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">RegExp</span><span class="p">(</span><span class="nx">regtext</span><span class="p">);</span>
            <span class="kd">var</span> <span class="nx">replaceCount</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">repeatStr</span><span class="p">(</span><span class="nx">replaceText</span><span class="p">,</span> <span class="nx">regArr</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>
            <span class="k">return</span> <span class="nx">str</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="nx">Reg</span><span class="p">,</span> <span class="dl">'</span><span class="s1">$1</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">replaceCount</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">$2</span><span class="dl">'</span><span class="p">)</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">regArr</span><span class="p">.</span><span class="nx">length</span> <span class="o">===</span> <span class="mi">3</span> <span class="o">&amp;&amp;</span> <span class="nx">type</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">regtext</span> <span class="o">=</span> <span class="dl">'</span><span class="se">\\</span><span class="s1">w{</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">regArr</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">}(</span><span class="se">\\</span><span class="s1">w{</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">regArr</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">})</span><span class="se">\\</span><span class="s1">w{</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">regArr</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">}</span><span class="dl">'</span>
            <span class="nx">Reg</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">RegExp</span><span class="p">(</span><span class="nx">regtext</span><span class="p">);</span>
            <span class="kd">var</span> <span class="nx">replaceCount1</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">repeatStr</span><span class="p">(</span><span class="nx">replaceText</span><span class="p">,</span> <span class="nx">regArr</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>
            <span class="kd">var</span> <span class="nx">replaceCount2</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">repeatStr</span><span class="p">(</span><span class="nx">replaceText</span><span class="p">,</span> <span class="nx">regArr</span><span class="p">[</span><span class="mi">2</span><span class="p">]);</span>
            <span class="k">return</span> <span class="nx">str</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="nx">Reg</span><span class="p">,</span> <span class="nx">replaceCount1</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">$1</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">replaceCount2</span><span class="p">)</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">regArr</span><span class="p">.</span><span class="nx">length</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="nx">type</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">regtext</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">(^</span><span class="se">\\</span><span class="s1">w{</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">regArr</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">})</span><span class="dl">'</span>
            <span class="nx">Reg</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">RegExp</span><span class="p">(</span><span class="nx">regtext</span><span class="p">);</span>
            <span class="kd">var</span> <span class="nx">replaceCount</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">repeatStr</span><span class="p">(</span><span class="nx">replaceText</span><span class="p">,</span> <span class="nx">regArr</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>
            <span class="k">return</span> <span class="nx">str</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="nx">Reg</span><span class="p">,</span> <span class="nx">replaceCount</span><span class="p">)</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">regArr</span><span class="p">.</span><span class="nx">length</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="nx">type</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">regtext</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">(</span><span class="se">\\</span><span class="s1">w{</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">regArr</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">}$)</span><span class="dl">'</span>
            <span class="nx">Reg</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">RegExp</span><span class="p">(</span><span class="nx">regtext</span><span class="p">);</span>
            <span class="kd">var</span> <span class="nx">replaceCount</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">repeatStr</span><span class="p">(</span><span class="nx">replaceText</span><span class="p">,</span> <span class="nx">regArr</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>
            <span class="k">return</span> <span class="nx">str</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="nx">Reg</span><span class="p">,</span> <span class="nx">replaceCount</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">},</span>

    <span class="c1">//2-5 æ­£å“²æ£€æµ‹å­—ç¬¦ä¸²</span>
    <span class="c1">//aldR.checkType('165226226326','phone')</span>
    <span class="c1">//resultï¼šfalse</span>
    <span class="c1">//å¤§å®¶å¯ä»¥æ ¹æ®éœ€è¦æ‰©å±•</span>
    <span class="na">checkType</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">str</span><span class="p">,</span> <span class="nx">type</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">switch</span> <span class="p">(</span><span class="nx">type</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">//é‚®ç®±</span>
        <span class="k">case</span> <span class="dl">'</span><span class="s1">email</span><span class="dl">'</span><span class="p">:</span>
            <span class="k">return</span> <span class="sr">/^</span><span class="se">[\w</span><span class="sr">-</span><span class="se">]</span><span class="sr">+</span><span class="se">(\.[\w</span><span class="sr">-</span><span class="se">]</span><span class="sr">+</span><span class="se">)</span><span class="sr">*@</span><span class="se">[\w</span><span class="sr">-</span><span class="se">]</span><span class="sr">+</span><span class="se">(\.[\w</span><span class="sr">-</span><span class="se">]</span><span class="sr">+</span><span class="se">)</span><span class="sr">+$/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">str</span><span class="p">);</span>
        <span class="c1">//æ‰‹æœº</span>
        <span class="k">case</span> <span class="dl">'</span><span class="s1">phone</span><span class="dl">'</span><span class="p">:</span>
            <span class="k">return</span> <span class="sr">/^1</span><span class="se">[</span><span class="sr">3|4|5|7|8|9</span><span class="se">][</span><span class="sr">0-9</span><span class="se">]{9}</span><span class="sr">$/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">str</span><span class="p">);</span>
        <span class="c1">//è”ç³»ç”µè¯</span>
        <span class="k">case</span> <span class="dl">'</span><span class="s1">tel</span><span class="dl">'</span><span class="p">:</span>
            <span class="k">return</span> <span class="sr">/^</span><span class="se">(</span><span class="sr">0</span><span class="se">\d{2,3}</span><span class="sr">-</span><span class="se">\d{7,8})(</span><span class="sr">-</span><span class="se">\d{1,4})?</span><span class="sr">$/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">str</span><span class="p">);</span>
        <span class="c1">//æ­£æ•´æ•°</span>
        <span class="k">case</span> <span class="dl">'</span><span class="s1">number</span><span class="dl">'</span><span class="p">:</span>
            <span class="k">return</span> <span class="sr">/^</span><span class="se">[</span><span class="sr">0-9</span><span class="se">]</span><span class="sr">$/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">str</span><span class="p">);</span>
        <span class="c1">//è‹±æ–‡</span>
        <span class="k">case</span> <span class="dl">'</span><span class="s1">english</span><span class="dl">'</span><span class="p">:</span>
            <span class="k">return</span> <span class="sr">/^</span><span class="se">[</span><span class="sr">a-zA-Z</span><span class="se">]</span><span class="sr">+$/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">str</span><span class="p">);</span>
        <span class="c1">//æ–‡æœ¬</span>
        <span class="k">case</span> <span class="dl">'</span><span class="s1">text</span><span class="dl">'</span><span class="p">:</span>
            <span class="k">return</span> <span class="sr">/^</span><span class="se">\w</span><span class="sr">+$/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">str</span><span class="p">);</span>
        <span class="c1">//ä¸­æ–‡</span>
        <span class="k">case</span> <span class="dl">'</span><span class="s1">chinese</span><span class="dl">'</span><span class="p">:</span>
            <span class="k">return</span> <span class="sr">/^</span><span class="se">[\u</span><span class="sr">4E00-</span><span class="se">\u</span><span class="sr">9FA5</span><span class="se">]</span><span class="sr">+$/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">str</span><span class="p">);</span>
        <span class="c1">//å°å†™è‹±æ–‡</span>
        <span class="k">case</span> <span class="dl">'</span><span class="s1">lower</span><span class="dl">'</span><span class="p">:</span>
            <span class="k">return</span> <span class="sr">/^</span><span class="se">[</span><span class="sr">a-z</span><span class="se">]</span><span class="sr">+$/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">str</span><span class="p">);</span>
        <span class="c1">//å¤§å†™è‹±æ–‡</span>
        <span class="k">case</span> <span class="dl">'</span><span class="s1">upper</span><span class="dl">'</span><span class="p">:</span>
            <span class="k">return</span> <span class="sr">/^</span><span class="se">[</span><span class="sr">A-Z</span><span class="se">]</span><span class="sr">+$/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">str</span><span class="p">);</span>
        <span class="c1">//QQå·ç </span>
        <span class="k">case</span> <span class="dl">'</span><span class="s1">QQ</span><span class="dl">'</span><span class="p">:</span>
            <span class="k">return</span> <span class="sr">/^</span><span class="se">[</span><span class="sr">1-9</span><span class="se">][</span><span class="sr">0-9</span><span class="se">]{4,9}</span><span class="sr">$/gim</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">str</span><span class="p">);</span>
        <span class="c1">//é‚®æ”¿ç¼–ç </span>
        <span class="k">case</span> <span class="dl">'</span><span class="s1">postcode</span><span class="dl">'</span><span class="p">:</span>
            <span class="k">return</span> <span class="sr">/^</span><span class="se">[</span><span class="sr">1-9</span><span class="se">]\d{5}</span><span class="sr">$/g</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">str</span><span class="p">);;</span>
        <span class="c1">//èº«ä»½è¯</span>
        <span class="k">case</span> <span class="dl">'</span><span class="s1">idcard</span><span class="dl">'</span><span class="p">:</span>
            <span class="k">return</span> <span class="sr">/^</span><span class="se">(</span><span class="sr">^</span><span class="se">[</span><span class="sr">1-9</span><span class="se">]\d{7}((</span><span class="sr">0</span><span class="se">\d)</span><span class="sr">|</span><span class="se">(</span><span class="sr">1</span><span class="se">[</span><span class="sr">0-2</span><span class="se">]))(([</span><span class="sr">0|1|2</span><span class="se">]\d)</span><span class="sr">|3</span><span class="se">[</span><span class="sr">0-1</span><span class="se">])\d{3}</span><span class="sr">$</span><span class="se">)</span><span class="sr">|</span><span class="se">(</span><span class="sr">^</span><span class="se">[</span><span class="sr">1-9</span><span class="se">]\d{5}[</span><span class="sr">1-9</span><span class="se">]\d{3}((</span><span class="sr">0</span><span class="se">\d)</span><span class="sr">|</span><span class="se">(</span><span class="sr">1</span><span class="se">[</span><span class="sr">0-2</span><span class="se">]))(([</span><span class="sr">0|1|2</span><span class="se">]\d)</span><span class="sr">|3</span><span class="se">[</span><span class="sr">0-1</span><span class="se">])((\d{4})</span><span class="sr">|</span><span class="se">\d{3}[</span><span class="sr">Xx</span><span class="se">])</span><span class="sr">$</span><span class="se">)</span><span class="sr">$/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">str</span><span class="p">);</span>
        <span class="nl">default</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">},</span>

    <span class="c1">//2-6 æ£€æµ‹å¯†ç å¼ºåº¦</span>
    <span class="c1">//å°äº6ä½ä¸º0.åªæœ‰æ•°å­—ä¸º1ï¼Œæ•°å­—+å°å†™ä¸º2ï¼Œæ•°å­—+å¤§å°å†™ä¸º3ï¼Œæ•°å­—+å¤§å°å†™+æ ‡ç‚¹ä¸º4</span>
    <span class="c1">//aldR.checkPwd('12asdASAD')</span>
    <span class="c1">//resultï¼š3(å¼ºåº¦ç­‰çº§ä¸º3)</span>
    <span class="na">checkPwd</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">str</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">nowLv</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">str</span><span class="p">.</span><span class="nx">length</span> <span class="o">&lt;</span> <span class="mi">6</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">nowLv</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="p">(</span><span class="sr">/</span><span class="se">[</span><span class="sr">0-9</span><span class="se">]</span><span class="sr">/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">str</span><span class="p">))</span> <span class="p">{</span>
            <span class="nx">nowLv</span><span class="o">++</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="p">(</span><span class="sr">/</span><span class="se">[</span><span class="sr">a-z</span><span class="se">]</span><span class="sr">/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">str</span><span class="p">))</span> <span class="p">{</span>
            <span class="nx">nowLv</span><span class="o">++</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="p">(</span><span class="sr">/</span><span class="se">[</span><span class="sr">A-Z</span><span class="se">]</span><span class="sr">/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">str</span><span class="p">))</span> <span class="p">{</span>
            <span class="nx">nowLv</span><span class="o">++</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="p">(</span><span class="sr">/</span><span class="se">[\.</span><span class="sr">|-|_</span><span class="se">]</span><span class="sr">/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">str</span><span class="p">))</span> <span class="p">{</span>
            <span class="nx">nowLv</span><span class="o">++</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="nx">nowLv</span><span class="p">;</span>
    <span class="p">},</span>   

    <span class="c1">// 2-7 æŸ¥æ‰¾å­—ç¬¦ä¸²ä¸­æŸå­—ç¬¦å‡ºç°çš„æ¬¡æ•°</span>
    <span class="c1">//var strTest='sad44654blog5a1sd67as9dablog4s5d16zxc4sdweasjkblogwqepaskdkblogahseiuadbhjcibloguyeajzxkcabloguyiwezxc967'</span>
    <span class="c1">//aldR.countStr(strTest,'blog')</span>
    <span class="c1">//resultï¼š6</span>
    <span class="na">countStr</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">str</span><span class="p">,</span> <span class="nx">strSplit</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">str</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="nx">strSplit</span><span class="p">).</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="æ•°ç»„æ“ä½œ">æ•°ç»„æ“ä½œ</h2>

<h6 id="3-1-æ•°ç»„å»é‡">3-1 æ•°ç»„å»é‡</h6>
<h6 id="3-2-æ•°ç»„æœ€å¤§å€¼æœ€å°å€¼">3-2 æ•°ç»„æœ€å¤§å€¼æœ€å°å€¼</h6>
<h6 id="3-3-æ•°ç»„æ±‚å’Œå¹³å‡å€¼">3-3 æ•°ç»„æ±‚å’Œï¼Œå¹³å‡å€¼</h6>
<h6 id="3-4-è¿”å›æ•°ç»„å­—ç¬¦ä¸²ä¸€ä¸ªå…ƒç´ å‡ºç°çš„æ¬¡æ•°">3-4 è¿”å›æ•°ç»„ï¼ˆå­—ç¬¦ä¸²ï¼‰ä¸€ä¸ªå…ƒç´ å‡ºç°çš„æ¬¡æ•°</h6>
<h6 id="3-5-è¿”å›æ•°ç»„å­—ç¬¦ä¸²å‡ºç°æœ€å¤šçš„å‡ æ¬¡å…ƒç´ å’Œå‡ºç°æ¬¡æ•°">3-5 è¿”å›æ•°ç»„ï¼ˆå­—ç¬¦ä¸²ï¼‰å‡ºç°æœ€å¤šçš„å‡ æ¬¡å…ƒç´ å’Œå‡ºç°æ¬¡æ•°</h6>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="kd">var</span> <span class="nx">aldR</span> <span class="o">=</span> <span class="p">{</span>
    
    <span class="c1">// 3-1 æ•°ç»„å»é‡</span>
    <span class="c1">//aldR.removeRepeatArray([1,1,2,3,4,5,6]))</span>
    <span class="c1">//return:[1,2,3,4,5,6]</span>
    <span class="na">removeRepeatArray</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">arr</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">arr</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">item</span><span class="p">,</span> <span class="nx">index</span><span class="p">,</span> <span class="nb">self</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nb">self</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">item</span><span class="p">)</span> <span class="o">===</span> <span class="nx">index</span><span class="p">;</span>
        <span class="p">});</span>
    <span class="p">},</span>

    <span class="c1">// 3-2 æ•°ç»„æœ€å¤§å€¼</span>
    <span class="c1">//aldR.maxArr([1,1,2,3,4,5,6]))</span>
    <span class="c1">//return:6</span>
    <span class="na">maxArr</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">arr</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">max</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span> <span class="nx">arr</span><span class="p">);</span>
    <span class="p">},</span>
    <span class="c1">// 3-2 æ•°ç»„æœ€å°å€¼</span>
    <span class="c1">//aldR.minArr([1,1,2,3,4,5,6]))</span>
    <span class="c1">//return:1</span>
    <span class="na">minArr</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">arr</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">min</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span> <span class="nx">arr</span><span class="p">);</span>
    <span class="p">},</span>

    <span class="c1">// 3-3 æ±‚å’Œ</span>
    <span class="c1">//ä¸»è¦æ˜¯é’ˆå¯¹æ•°å­—ç±»å‹çš„æ•°ç»„</span>
    <span class="c1">//aldR.sumArr([1,1,2,3,4,5,6]))</span>
    <span class="c1">//return:22</span>
    <span class="na">sumArr</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">arr</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">arr</span><span class="p">.</span><span class="nx">reduce</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">pre</span><span class="p">,</span> <span class="nx">cur</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">pre</span> <span class="o">+</span> <span class="nx">cur</span>
        <span class="p">})</span>
    <span class="p">},</span>
    <span class="c1">// 3-3 æ•°ç»„å¹³å‡å€¼</span>
    <span class="c1">//å°æ•°ç‚¹å¯èƒ½ä¼šæœ‰å¾ˆå¤šä½ï¼Œè¿™é‡Œä¸åšå¤„ç†</span>
    <span class="c1">//aldR.covArr([1,1,2,3,4,5,6]))</span>
    <span class="c1">//return:3.1428545612399814</span>
    <span class="na">covArr</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">arr</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">sumArr</span><span class="p">(</span><span class="nx">arr</span><span class="p">)</span> <span class="o">/</span> <span class="nx">arr</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
    <span class="p">},</span>

    <span class="c1">// 3-4 è¿”å›æ•°ç»„ï¼ˆå­—ç¬¦ä¸²ï¼‰ä¸€ä¸ªå…ƒç´ å‡ºç°çš„æ¬¡æ•°</span>
    <span class="c1">//aldR.getEleCount('asd56+asdasdwqe','a')</span>
    <span class="c1">//resultï¼š3</span>
    <span class="c1">//aldR.getEleCount([1,2,3,4,5,66,77,22,55,22],22)</span>
    <span class="c1">//resultï¼š2</span>
    <span class="na">getEleCount</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">obj</span><span class="p">,</span> <span class="nx">ele</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">num</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">len</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">len</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">ele</span> <span class="o">===</span> <span class="nx">obj</span><span class="p">[</span><span class="nx">i</span><span class="p">])</span> <span class="p">{</span>
                <span class="nx">num</span><span class="o">++</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="nx">num</span><span class="p">;</span>
    <span class="p">},</span>
    
    <span class="c1">// 3-5 è¿”å›æ•°ç»„ï¼ˆå­—ç¬¦ä¸²ï¼‰å‡ºç°æœ€å¤šçš„å‡ æ¬¡å…ƒç´ å’Œå‡ºç°æ¬¡æ•°</span>
    <span class="c1">//arr, rank-&gt;é•¿åº¦ï¼Œé»˜è®¤ä¸ºæ•°ç»„é•¿åº¦ï¼Œranktypeï¼Œæ’åºæ–¹å¼ï¼Œé»˜è®¤é™åº</span>
    <span class="c1">//è¿”å›å€¼ï¼šel-&gt;å…ƒç´ ï¼Œcount-&gt;æ¬¡æ•°</span>
    <span class="c1">//aldR.getCount([1,2,3,1,2,5,2,4,1,2,6,2,1,3,2])</span>
    <span class="c1">//é»˜è®¤æƒ…å†µï¼Œè¿”å›æ‰€æœ‰å…ƒç´ å‡ºç°çš„æ¬¡æ•°</span>
    <span class="c1">//resultï¼š[{"el":"2","count":6},{"el":"1","count":4},{"el":"3","count":2},{"el":"4","count":1},{"el":"5","count":1},{"el":"6","count":1}]</span>
    <span class="c1">//aldR.getCount([1,2,3,1,2,5,2,4,1,2,6,2,1,3,2],3)</span>
    <span class="c1">//ä¼ å‚ï¼ˆrank=3ï¼‰ï¼Œåªè¿”å›å‡ºç°æ¬¡æ•°æ’åºå‰ä¸‰çš„</span>
    <span class="c1">//resultï¼š[{"el":"2","count":6},{"el":"1","count":4},{"el":"3","count":2}]</span>
    <span class="c1">//aldR.getCount([1,2,3,1,2,5,2,4,1,2,6,2,1,3,2],null,1)</span>
    <span class="c1">//ä¼ å‚ï¼ˆranktype=1,rank=nullï¼‰ï¼Œå‡åºè¿”å›æ‰€æœ‰å…ƒç´ å‡ºç°æ¬¡æ•°</span>
    <span class="c1">//resultï¼š[{"el":"6","count":1},{"el":"5","count":1},{"el":"4","count":1},{"el":"3","count":2},{"el":"1","count":4},{"el":"2","count":6}]</span>
    <span class="c1">//aldR.getCount([1,2,3,1,2,5,2,4,1,2,6,2,1,3,2],3,1)</span>
    <span class="c1">//ä¼ å‚ï¼ˆrank=3ï¼Œranktype=1ï¼‰ï¼Œåªè¿”å›å‡ºç°æ¬¡æ•°æ’åºï¼ˆå‡åºï¼‰å‰ä¸‰çš„</span>
    <span class="c1">//resultï¼š[{"el":"6","count":1},{"el":"5","count":1},{"el":"4","count":1}]</span>
    <span class="na">getCount</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">arr</span><span class="p">,</span> <span class="nx">rank</span><span class="p">,</span> <span class="nx">ranktype</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{},</span>
            <span class="nx">k</span><span class="p">,</span> <span class="nx">arr1</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="c1">//è®°å½•æ¯ä¸€å…ƒç´ å‡ºç°çš„æ¬¡æ•°</span>
        <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">len</span> <span class="o">=</span> <span class="nx">arr</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">len</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">k</span> <span class="o">=</span> <span class="nx">arr</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">obj</span><span class="p">[</span><span class="nx">k</span><span class="p">])</span> <span class="p">{</span>
                <span class="nx">obj</span><span class="p">[</span><span class="nx">k</span><span class="p">]</span><span class="o">++</span><span class="p">;</span>
            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                <span class="nx">obj</span><span class="p">[</span><span class="nx">k</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="c1">//ä¿å­˜ç»“æœ{el-'å…ƒç´ 'ï¼Œcount-å‡ºç°æ¬¡æ•°}</span>
        <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">o</span> <span class="k">in</span> <span class="nx">obj</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">arr1</span><span class="p">.</span><span class="nx">push</span><span class="p">([</span><span class="dl">'</span><span class="s1">el:</span><span class="dl">'</span><span class="o">+</span><span class="nx">o</span><span class="p">,</span> <span class="dl">'</span><span class="s1">count:</span><span class="dl">'</span><span class="o">+</span> <span class="nx">obj</span><span class="p">[</span><span class="nx">o</span><span class="p">]]);</span>
        <span class="p">}</span>
        <span class="c1">//æ’åºï¼ˆé™åºï¼‰</span>
        <span class="nx">arr1</span><span class="p">.</span><span class="nx">sort</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">n1</span><span class="p">,</span> <span class="nx">n2</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">n2</span><span class="p">.</span><span class="nx">count</span> <span class="o">-</span> <span class="nx">n1</span><span class="p">.</span><span class="nx">count</span>
        <span class="p">});</span>
        <span class="c1">//å¦‚æœranktypeä¸º1ï¼Œåˆ™ä¸ºå‡åºï¼Œåè½¬æ•°ç»„</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">ranktype</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">arr1</span> <span class="o">=</span> <span class="nx">arr1</span><span class="p">.</span><span class="nx">reverse</span><span class="p">();</span>
        <span class="p">}</span>
        <span class="kd">var</span> <span class="nx">rank1</span> <span class="o">=</span> <span class="nx">rank</span> <span class="o">||</span> <span class="nx">arr1</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
        <span class="k">return</span> <span class="nx">arr1</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nx">rank1</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>

</code></pre></div></div>

<h2 id="å…¶ä»–æ“ä½œ">å…¶ä»–æ“ä½œ</h2>

<h6 id="4-1-cookie">4-1 cookie</h6>
<h6 id="4-2-windowlocalstorage">4-2 Window.localStorage</h6>
<h6 id="4-3-ç°é‡‘é¢å¤§å†™è½¬æ¢å‡½æ•°">4-3 ç°é‡‘é¢å¤§å†™è½¬æ¢å‡½æ•°</h6>
<h6 id="4-4-æ—¥æœŸåˆ°æœŸæ—¶é—´è®¡ç®—">4-4 æ—¥æœŸåˆ°æœŸæ—¶é—´è®¡ç®—</h6>
<h6 id="4-5-æ‰‹æœºç±»å‹åˆ¤æ–­">4-5 æ‰‹æœºç±»å‹åˆ¤æ–­</h6>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="kd">var</span> <span class="nx">aldR</span> <span class="o">=</span> <span class="p">{</span>

    <span class="c1">// 4-1 cookie</span>
    <span class="c1">//è®¾ç½®cookie</span>
    <span class="na">setCookie</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">value</span><span class="p">,</span> <span class="nx">iDay</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">oDate</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">();</span>
        <span class="nx">oDate</span><span class="p">.</span><span class="nx">setDate</span><span class="p">(</span><span class="nx">oDate</span><span class="p">.</span><span class="nx">getDate</span><span class="p">()</span> <span class="o">+</span> <span class="nx">iDay</span><span class="p">);</span>
        <span class="nb">document</span><span class="p">.</span><span class="nx">cookie</span> <span class="o">=</span> <span class="nx">name</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">=</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">value</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">;expires=</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">oDate</span><span class="p">;</span>
    <span class="p">},</span>
    <span class="c1">//è·å–cookie</span>
    <span class="na">getCookie</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">cookie</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="dl">'</span><span class="s1">; </span><span class="dl">'</span><span class="p">);</span>
        <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">arr</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">arr2</span> <span class="o">=</span> <span class="nx">arr</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">split</span><span class="p">(</span><span class="dl">'</span><span class="s1">=</span><span class="dl">'</span><span class="p">);</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">arr2</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">return</span> <span class="nx">arr2</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="dl">''</span><span class="p">;</span>
    <span class="p">},</span>
    <span class="c1">//åˆ é™¤cookie</span>
    <span class="na">removeCookie</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">setCookie</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">);</span>
    <span class="p">},</span>
    
    <span class="c1">// 4-2 Window.localStorage</span>
    <span class="c1">//è®¾ç½®localStorage   DEMOåŠŸèƒ½:æ¯æ—¥é¦–æ¬¡æé†’</span>
    <span class="na">setLocalStorage</span><span class="p">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">value</span><span class="p">){</span>
        <span class="kd">var</span> <span class="nx">date</span><span class="o">=</span><span class="k">new</span> <span class="nb">Date</span><span class="p">();</span>
        <span class="nb">window</span><span class="p">.</span><span class="nx">localStorage</span><span class="p">.</span><span class="nx">setItem</span><span class="p">(</span><span class="nx">date</span><span class="p">.</span><span class="nx">toLocaleDateString</span><span class="p">(),</span> <span class="nx">value</span><span class="p">);</span>
    <span class="p">},</span>

    <span class="c1">//è·å–localStorage   </span>
    <span class="na">getLocalStorage</span><span class="p">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">value</span><span class="p">){</span>
        <span class="kd">var</span> <span class="nx">date</span><span class="o">=</span><span class="k">new</span> <span class="nb">Date</span><span class="p">();</span>
       <span class="k">return</span> <span class="nb">window</span><span class="p">.</span><span class="nx">localStorage</span><span class="p">.</span><span class="nx">getItem</span><span class="p">(</span><span class="nx">date</span><span class="p">.</span><span class="nx">toLocaleDateString</span><span class="p">()</span><span class="o">!=</span> <span class="nx">value</span><span class="p">);</span>
    <span class="p">},</span>

    <span class="c1">//åˆ é™¤localStorage</span>
    <span class="na">removeLocalStorage</span><span class="p">:</span><span class="kd">function</span><span class="p">(){</span>
        <span class="kd">var</span> <span class="nx">date</span><span class="o">=</span><span class="k">new</span> <span class="nb">Date</span><span class="p">();</span>
        <span class="nx">localStorage</span><span class="p">.</span><span class="nx">removeItem</span><span class="p">(</span><span class="nx">date</span><span class="p">.</span><span class="nx">toLocaleDateString</span><span class="p">());</span>
    <span class="p">},</span>

    <span class="c1">// 4-3 ç°é‡‘é¢å¤§å†™è½¬æ¢å‡½æ•°</span>
    <span class="c1">//ecDo.upDigit(168752632)</span>
    <span class="c1">//resultï¼š"äººæ°‘å¸å£¹äº¿é™†ä»ŸæŒä½°æŸ’æ‹¾ä¼ä¸‡è´°ä»Ÿé™†ä½°åæ‹¾è´°å…ƒæ•´"</span>
    <span class="c1">//ecDo.upDigit(1682)</span>
    <span class="c1">//resultï¼š"äººæ°‘å¸å£¹ä»Ÿé™†ä½°æŒæ‹¾è´°å…ƒæ•´"</span>
    <span class="c1">//ecDo.upDigit(-1693)</span>
    <span class="c1">//resultï¼š"æ¬ äººæ°‘å¸å£¹ä»Ÿé™†ä½°ç–æ‹¾åå…ƒæ•´"</span>
    <span class="na">upDigit</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">n</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">fraction</span> <span class="o">=</span> <span class="p">[</span><span class="dl">'</span><span class="s1">è§’</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">åˆ†</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">å˜</span><span class="dl">'</span><span class="p">];</span>
        <span class="kd">var</span> <span class="nx">digit</span> <span class="o">=</span> <span class="p">[</span><span class="dl">'</span><span class="s1">é›¶</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">å£¹</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">è´°</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">å</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">è‚†</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">ä¼</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">é™†</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">æŸ’</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">æŒ</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">ç–</span><span class="dl">'</span><span class="p">];</span>
        <span class="kd">var</span> <span class="nx">unit</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">[</span><span class="dl">'</span><span class="s1">å…ƒ</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">ä¸‡</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">äº¿</span><span class="dl">'</span><span class="p">],</span>
            <span class="p">[</span><span class="dl">''</span><span class="p">,</span> <span class="dl">'</span><span class="s1">æ‹¾</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">ä½°</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">ä»Ÿ</span><span class="dl">'</span><span class="p">]</span>
        <span class="p">];</span>
        <span class="kd">var</span> <span class="nx">head</span> <span class="o">=</span> <span class="nx">n</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="p">?</span> <span class="dl">'</span><span class="s1">æ¬ äººæ°‘å¸</span><span class="dl">'</span> <span class="p">:</span> <span class="dl">'</span><span class="s1">äººæ°‘å¸</span><span class="dl">'</span><span class="p">;</span>
        <span class="nx">n</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">abs</span><span class="p">(</span><span class="nx">n</span><span class="p">);</span>
        <span class="kd">var</span> <span class="nx">s</span> <span class="o">=</span> <span class="dl">''</span><span class="p">;</span>
        <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">fraction</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">s</span> <span class="o">+=</span> <span class="p">(</span><span class="nx">digit</span><span class="p">[</span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">n</span> <span class="o">*</span> <span class="mi">10</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">pow</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="nx">i</span><span class="p">))</span> <span class="o">%</span> <span class="mi">10</span><span class="p">]</span> <span class="o">+</span> <span class="nx">fraction</span><span class="p">[</span><span class="nx">i</span><span class="p">]).</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/é›¶./</span><span class="p">,</span> <span class="dl">''</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="nx">s</span> <span class="o">=</span> <span class="nx">s</span> <span class="o">||</span> <span class="dl">'</span><span class="s1">æ•´</span><span class="dl">'</span><span class="p">;</span>
        <span class="nx">n</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">n</span><span class="p">);</span>
        <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">unit</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">length</span> <span class="o">&amp;&amp;</span> <span class="nx">n</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">p</span> <span class="o">=</span> <span class="dl">''</span><span class="p">;</span>
            <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">j</span> <span class="o">&lt;</span> <span class="nx">unit</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nx">length</span> <span class="o">&amp;&amp;</span> <span class="nx">n</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">j</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">p</span> <span class="o">=</span> <span class="nx">digit</span><span class="p">[</span><span class="nx">n</span> <span class="o">%</span> <span class="mi">10</span><span class="p">]</span> <span class="o">+</span> <span class="nx">unit</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="nx">j</span><span class="p">]</span> <span class="o">+</span> <span class="nx">p</span><span class="p">;</span>
                <span class="nx">n</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">n</span> <span class="o">/</span> <span class="mi">10</span><span class="p">);</span>
            <span class="p">}</span>
            <span class="nx">s</span> <span class="o">=</span> <span class="nx">p</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/</span><span class="se">(</span><span class="sr">é›¶.</span><span class="se">)</span><span class="sr">*é›¶$/</span><span class="p">,</span> <span class="dl">''</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/^$/</span><span class="p">,</span> <span class="dl">'</span><span class="s1">é›¶</span><span class="dl">'</span><span class="p">)</span> <span class="o">+</span> <span class="nx">unit</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="nx">i</span><span class="p">]</span> <span class="o">+</span> <span class="nx">s</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="nx">head</span> <span class="o">+</span> <span class="nx">s</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/</span><span class="se">(</span><span class="sr">é›¶.</span><span class="se">)</span><span class="sr">*é›¶å…ƒ/</span><span class="p">,</span> <span class="dl">'</span><span class="s1">å…ƒ</span><span class="dl">'</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/</span><span class="se">(</span><span class="sr">é›¶.</span><span class="se">)</span><span class="sr">+/g</span><span class="p">,</span> <span class="dl">'</span><span class="s1">é›¶</span><span class="dl">'</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/^æ•´$/</span><span class="p">,</span> <span class="dl">'</span><span class="s1">é›¶å…ƒæ•´</span><span class="dl">'</span><span class="p">);</span>
    <span class="p">}</span> <span class="p">,</span>

    
    <span class="c1">// 4-4 æ—¥æœŸåˆ°æœŸæ—¶é—´è®¡ç®—</span>
    <span class="c1">//ecDo.getEndTime('2017/7/22 16:0:0')</span>
    <span class="c1">//resultï¼š"å‰©ä½™æ—¶é—´6å¤© 2å°æ—¶ 28 åˆ†é’Ÿ20 ç§’"</span>
    <span class="na">getEndTime</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">endTime</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">startDate</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">();</span> <span class="c1">//å¼€å§‹æ—¶é—´ï¼Œå½“å‰æ—¶é—´</span>
        <span class="kd">var</span> <span class="nx">endDate</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">(</span><span class="nx">endTime</span><span class="p">);</span> <span class="c1">//ç»“æŸæ—¶é—´ï¼Œéœ€ä¼ å…¥æ—¶é—´å‚æ•°</span>
        <span class="kd">var</span> <span class="nx">t</span> <span class="o">=</span> <span class="nx">endDate</span><span class="p">.</span><span class="nx">getTime</span><span class="p">()</span> <span class="o">-</span> <span class="nx">startDate</span><span class="p">.</span><span class="nx">getTime</span><span class="p">();</span> <span class="c1">//æ—¶é—´å·®çš„æ¯«ç§’æ•°</span>
        <span class="kd">var</span> <span class="nx">d</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
            <span class="nx">h</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
            <span class="nx">m</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
            <span class="nx">s</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">t</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">d</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">t</span> <span class="o">/</span> <span class="mi">1000</span> <span class="o">/</span> <span class="mi">3600</span> <span class="o">/</span> <span class="mi">24</span><span class="p">);</span>
            <span class="nx">h</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">t</span> <span class="o">/</span> <span class="mi">1000</span> <span class="o">/</span> <span class="mi">60</span> <span class="o">/</span> <span class="mi">60</span> <span class="o">%</span> <span class="mi">24</span><span class="p">);</span>
            <span class="nx">m</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">t</span> <span class="o">/</span> <span class="mi">1000</span> <span class="o">/</span> <span class="mi">60</span> <span class="o">%</span> <span class="mi">60</span><span class="p">);</span>
            <span class="nx">s</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">t</span> <span class="o">/</span> <span class="mi">1000</span> <span class="o">%</span> <span class="mi">60</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="dl">"</span><span class="s2">å‰©ä½™æ—¶é—´</span><span class="dl">"</span> <span class="o">+</span> <span class="nx">d</span> <span class="o">+</span> <span class="dl">"</span><span class="s2">å¤© </span><span class="dl">"</span> <span class="o">+</span> <span class="nx">h</span> <span class="o">+</span> <span class="dl">"</span><span class="s2">å°æ—¶ </span><span class="dl">"</span> <span class="o">+</span> <span class="nx">m</span> <span class="o">+</span> <span class="dl">"</span><span class="s2"> åˆ†é’Ÿ</span><span class="dl">"</span> <span class="o">+</span> <span class="nx">s</span> <span class="o">+</span> <span class="dl">"</span><span class="s2"> ç§’</span><span class="dl">"</span><span class="p">;</span>
    <span class="p">},</span>
    
    
    <span class="c1">// 4-5 æ‰‹æœºç±»å‹åˆ¤æ–­</span>
    <span class="na">browserInfo</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">type</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">switch</span> <span class="p">(</span><span class="nx">type</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">case</span> <span class="dl">'</span><span class="s1">android</span><span class="dl">'</span><span class="p">:</span>
                <span class="k">return</span> <span class="nb">navigator</span><span class="p">.</span><span class="nx">userAgent</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">().</span><span class="nx">indexOf</span><span class="p">(</span><span class="dl">'</span><span class="s1">android</span><span class="dl">'</span><span class="p">)</span> <span class="o">!==</span> <span class="o">-</span><span class="mi">1</span>
            <span class="k">case</span> <span class="dl">'</span><span class="s1">iphone</span><span class="dl">'</span><span class="p">:</span>
                <span class="k">return</span> <span class="nb">navigator</span><span class="p">.</span><span class="nx">userAgent</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">().</span><span class="nx">indexOf</span><span class="p">(</span><span class="dl">'</span><span class="s1">iphone</span><span class="dl">'</span><span class="p">)</span> <span class="o">!==</span> <span class="o">-</span><span class="mi">1</span>
            <span class="k">case</span> <span class="dl">'</span><span class="s1">ipad</span><span class="dl">'</span><span class="p">:</span>
                <span class="k">return</span> <span class="nb">navigator</span><span class="p">.</span><span class="nx">userAgent</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">().</span><span class="nx">indexOf</span><span class="p">(</span><span class="dl">'</span><span class="s1">ipad</span><span class="dl">'</span><span class="p">)</span> <span class="o">!==</span> <span class="o">-</span><span class="mi">1</span>
            <span class="k">case</span> <span class="dl">'</span><span class="s1">weixin</span><span class="dl">'</span><span class="p">:</span>
                <span class="k">return</span> <span class="nb">navigator</span><span class="p">.</span><span class="nx">userAgent</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">().</span><span class="nx">indexOf</span><span class="p">(</span><span class="dl">'</span><span class="s1">micromessenger</span><span class="dl">'</span><span class="p">)</span> <span class="o">!==</span> <span class="o">-</span><span class="mi">1</span>
            <span class="na">default</span><span class="p">:</span>
                <span class="k">return</span> <span class="nb">navigator</span><span class="p">.</span><span class="nx">userAgent</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">()</span>
        <span class="p">}</span>
    <span class="p">}</span>

<span class="p">}</span>

</code></pre></div></div>

<p>è‚¯å®šä¼šä¸€ç›´æ›´æ–°çš„å•¦~</p>
:ET